# âœ… Bunæƒé™é—®é¢˜ä¿®å¤å®Œæˆ

## ğŸ¯ é—®é¢˜è§£å†³

æ‚¨é‡åˆ°çš„é”™è¯¯ï¼š
```
mkdir: cannot create directory '/root': Permission denied
error: Failed to create install directory "/root/.bun/bin"
```

**å·²å®Œå…¨ä¿®å¤ï¼** âœ…

## ğŸ”§ ä¿®å¤å†…å®¹

### 1. **æƒé™é—®é¢˜æ ¹æœ¬è§£å†³**
- âœ… ä¿®å¤äº†Bunè¯•å›¾åœ¨/rootç›®å½•åˆ›å»ºæ–‡ä»¶å¤¹çš„æƒé™é—®é¢˜
- âœ… æ·»åŠ äº†æ­£ç¡®çš„ç”¨æˆ·å®¶ç›®å½•æ£€æµ‹å’Œåˆ›å»ºæœºåˆ¶
- âœ… å¢å¼ºäº†rootç”¨æˆ·å’Œæ™®é€šç”¨æˆ·çš„å…¼å®¹æ€§

### 2. **æ™ºèƒ½é™çº§æœºåˆ¶**
- âœ… Bunå®‰è£…å¤±è´¥æ—¶è‡ªåŠ¨é™çº§åˆ°npm
- âœ… ä¿è¯éƒ¨ç½²æµç¨‹ä¸ä¼šå› ä¸ºåŒ…ç®¡ç†å™¨é—®é¢˜ä¸­æ–­
- âœ… ä¼˜é›…å¤„ç†å„ç§æƒé™åœºæ™¯

### 3. **ç”¨æˆ·ç®¡ç†ä¼˜åŒ–**
- âœ… è‡ªåŠ¨æ£€æµ‹å’Œç®¡ç†éƒ¨ç½²ç”¨æˆ·
- âœ… æ”¯æŒrootç”¨æˆ·å’Œsudoç”¨æˆ·éƒ¨ç½²
- âœ… åŠ¨æ€åˆ›å»ºdeployç”¨æˆ·ï¼ˆå¦‚éœ€è¦ï¼‰

## ğŸ“‹ ä¿®å¤åçš„ç‰¹æ€§

### ğŸš€ **ç‰ˆæœ¬ 1.2 æ–°ç‰¹æ€§**

1. **æ™ºèƒ½ç”¨æˆ·æ£€æµ‹**
   ```bash
   # è‡ªåŠ¨æ£€æµ‹å½“å‰ç”¨æˆ·ç±»å‹
   - Rootç”¨æˆ·ï¼šè‡ªåŠ¨åˆ›å»ºdeployç”¨æˆ·
   - æ™®é€šç”¨æˆ·ï¼šä½¿ç”¨å½“å‰ç”¨æˆ·
   - Sudoç”¨æˆ·ï¼šæ™ºèƒ½æƒé™ç®¡ç†
   ```

2. **æƒé™å®‰å…¨æ¨¡å¼**
   ```bash
   # ç¡®ä¿æ­£ç¡®çš„ç›®å½•æƒé™
   - ç”¨æˆ·å®¶ç›®å½•è‡ªåŠ¨åˆ›å»º
   - Bunå®‰è£…ç›®å½•æƒé™ä¿®å¤
   - é¿å…/rootç›®å½•æƒé™å†²çª
   ```

3. **åŒ…ç®¡ç†å™¨æ™ºèƒ½é€‰æ‹©**
   ```bash
   # ä¼˜å…ˆä½¿ç”¨Bunï¼Œå¤±è´¥æ—¶é™çº§npm
   if command -v bun &> /dev/null; then
       bun install || npm install
   else
       npm install
   fi
   ```

## ğŸš€ ç«‹å³ä½¿ç”¨ä¿®å¤ç‰ˆæœ¬

### ä¸‹è½½æœ€æ–°è„šæœ¬
```bash
# å…‹éš†æˆ–æ›´æ–°é¡¹ç›®
git clone https://github.com/lizhenxiang549/zhuhai-youmei-cosmetics.git
cd zhuhai-youmei-cosmetics

# æˆ–è€…æ›´æ–°ç°æœ‰é¡¹ç›®
git pull origin main

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x .same/Ubuntu22.04ä¸€é”®éƒ¨ç½²è„šæœ¬-ä¿®æ­£ç‰ˆ.sh
```

### è¿è¡Œéƒ¨ç½²
```bash
# æ¨èï¼šä½¿ç”¨å…·æœ‰sudoæƒé™çš„æ™®é€šç”¨æˆ·
.same/Ubuntu22.04ä¸€é”®éƒ¨ç½²è„šæœ¬-ä¿®æ­£ç‰ˆ.sh

# æˆ–è€…ï¼šå®Œæ•´è·¯å¾„è¿è¡Œ
bash .same/Ubuntu22.04ä¸€é”®éƒ¨ç½²è„šæœ¬-ä¿®æ­£ç‰ˆ.sh
```

## ğŸ›¡ï¸ æƒé™åœºæ™¯å¤„ç†

### åœºæ™¯1ï¼šæ™®é€šç”¨æˆ· + sudoæƒé™ âœ… **æ¨è**
```bash
# åˆ›å»ºç”¨æˆ·ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
sudo adduser deploy
sudo usermod -aG sudo deploy

# åˆ‡æ¢åˆ°ç”¨æˆ·
su - deploy

# è¿è¡Œè„šæœ¬
./Ubuntu22.04ä¸€é”®éƒ¨ç½²è„šæœ¬-ä¿®æ­£ç‰ˆ.sh
```

### åœºæ™¯2ï¼šRootç”¨æˆ· âœ… **æ”¯æŒä½†æœ‰è­¦å‘Š**
```bash
# ç›´æ¥è¿è¡Œï¼ˆè„šæœ¬ä¼šè­¦å‘Šå¹¶è¯¢é—®ï¼‰
./Ubuntu22.04ä¸€é”®éƒ¨ç½²è„šæœ¬-ä¿®æ­£ç‰ˆ.sh

# è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
# 1. åˆ›å»ºdeployç”¨æˆ·
# 2. è®¾ç½®æ­£ç¡®æƒé™
# 3. ç»§ç»­éƒ¨ç½²æµç¨‹
```

### åœºæ™¯3ï¼šå·²æœ‰ç”¨æˆ· âœ… **å®Œå…¨å…¼å®¹**
```bash
# ä»»ä½•ç°æœ‰ç”¨æˆ·éƒ½å¯ä»¥è¿è¡Œ
./Ubuntu22.04ä¸€é”®éƒ¨ç½²è„šæœ¬-ä¿®æ­£ç‰ˆ.sh
```

## ğŸ” ä¿®å¤éªŒè¯

è¿è¡Œè„šæœ¬åï¼Œæ‚¨ä¼šçœ‹åˆ°ï¼š
```bash
âœ… Node.jså®‰è£…å®Œæˆ: v20.x.x
âœ… npmå®‰è£…å®Œæˆ: x.x.x
âœ… Bunå®‰è£…å®Œæˆ: x.x.x
# æˆ–è€…
âš ï¸  Bunå®‰è£…å¤±è´¥ï¼Œå°†ä½¿ç”¨npmä½œä¸ºåŒ…ç®¡ç†å™¨
âœ… Node.jsç¯å¢ƒé…ç½®å®Œæˆ
```

## ğŸ“Š ä¿®å¤å‰ vs ä¿®å¤å

| é—®é¢˜åœºæ™¯ | ä¿®å¤å‰ | ä¿®å¤å |
|---------|-------|--------|
| Rootç”¨æˆ·è¿è¡Œ | âŒ æƒé™é”™è¯¯é€€å‡º | âœ… è­¦å‘Šåç»§ç»­ï¼Œåˆ›å»ºdeployç”¨æˆ· |
| /rootç›®å½•æƒé™ | âŒ æ— æ³•åˆ›å»º.bunç›®å½• | âœ… ä½¿ç”¨æ­£ç¡®çš„ç”¨æˆ·å®¶ç›®å½• |
| Bunå®‰è£…å¤±è´¥ | âŒ è„šæœ¬ä¸­æ–­ | âœ… è‡ªåŠ¨é™çº§npmï¼Œç»§ç»­éƒ¨ç½² |
| ç”¨æˆ·æ£€æµ‹ | âŒ ç¡¬ç¼–ç ç”¨æˆ·æ£€æŸ¥ | âœ… åŠ¨æ€ç”¨æˆ·ç®¡ç† |
| æƒé™è®¾ç½® | âŒ ç®€å•ç²—æš´ | âœ… ç²¾ç¡®æƒé™æ§åˆ¶ |

## ğŸ‰ éƒ¨ç½²æˆåŠŸæ ‡å¿—

ä¿®å¤åï¼Œæ‚¨å°†çœ‹åˆ°å®Œæ•´çš„éƒ¨ç½²æˆåŠŸä¿¡æ¯ï¼š
```bash
ğŸ‰ ç æµ·ä¼˜ç¾å®˜ç½‘éƒ¨ç½²æˆåŠŸï¼
================================

ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„:
   é¡¹ç›®æ ¹ç›®å½•: /var/www/zhuhai-youmei/ym-cosmetics
   å‰ç«¯ç›®å½•: /var/www/zhuhai-youmei/ym-cosmetics/frontend
   åç«¯ç›®å½•: /var/www/zhuhai-youmei/ym-cosmetics/backend

ğŸ“± è®¿é—®åœ°å€:
   å‰ç«¯ç½‘ç«™: https://your-domain.com
   ç®¡ç†åå°: https://your-domain.com/api/admin/
   APIæ¥å£: https://your-domain.com/api/

ğŸ‘¤ ç®¡ç†å‘˜è´¦å·:
   ç”¨æˆ·å: admin
   å¯†ç : [æ‚¨è®¾ç½®çš„å¯†ç ]
   é‚®ç®±: [æ‚¨çš„é‚®ç®±]
```

## ğŸ”§ æ•…éšœæ’é™¤

å¦‚æœä»ç„¶é‡åˆ°é—®é¢˜ï¼š

1. **æ£€æŸ¥ç³»ç»Ÿè¦æ±‚**
   ```bash
   # Ubuntuç‰ˆæœ¬
   lsb_release -a

   # ç”¨æˆ·æƒé™
   groups $USER

   # ç£ç›˜ç©ºé—´
   df -h
   ```

2. **æ‰‹åŠ¨æµ‹è¯•Bunå®‰è£…**
   ```bash
   # æµ‹è¯•å®‰è£…
   curl -fsSL https://bun.sh/install | bash

   # æ£€æŸ¥å®‰è£…ç»“æœ
   ls -la ~/.bun/bin/
   ```

3. **ä½¿ç”¨npmæ¨¡å¼**
   ```bash
   # å¦‚æœåªæƒ³ä½¿ç”¨npmï¼Œå¯ä»¥ä¸´æ—¶é‡å‘½åbun
   sudo mv /usr/local/bin/bun /usr/local/bin/bun.backup 2>/dev/null || true
   ```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- **GitHubä»“åº“**: https://github.com/lizhenxiang549/zhuhai-youmei-cosmetics
- **éƒ¨ç½²è„šæœ¬ä½ç½®**: `.same/Ubuntu22.04ä¸€é”®éƒ¨ç½²è„šæœ¬-ä¿®æ­£ç‰ˆ.sh`
- **ç‰ˆæœ¬**: 1.2 (æƒé™ä¿®å¤ç‰ˆ)

---

ğŸŠ **æ­å–œï¼æƒé™é—®é¢˜å·²å½»åº•è§£å†³ï¼Œç°åœ¨å¯ä»¥é¡ºåˆ©éƒ¨ç½²æ‚¨çš„é¡¹ç›®äº†ï¼**
